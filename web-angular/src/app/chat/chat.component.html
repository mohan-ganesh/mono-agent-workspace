<div class="parent-container">
    <div class="header">
        <img src="/assets/garvik-fullcolor-horizontal.png" alt="Garvik Logo">
        <p>AI Agent based appointment application.</p>
        <button class="send-button" (keydown.enter)="$event.preventDefault()" (click)="newChat()">New Chat</button>
    </div>
    <div class="chat-container" #chatContainer>

        <div *ngFor="let message of messages">
            <div *ngIf="message.isUser" class="user-message">
                <span class="icon-garvik"></span>
                <span class="icon-garvik-user"><b>You</b><br></span>
                <span class="user-message-content">{{ message.content }}</span>
            </div>
            <div *ngIf="!message.isUser" class="bot-message">
                <span class="icon-gemini"></span>
                <span class="icon-garvik-system"><b>Gemini</b><br></span>
                <div class="bot-message-content" [innerHTML]="message.content | customMarkup"
                    style="white-space: pre-wrap;"></div>
                <br>
                <span class="bot-message-content" [innerHTML]="message.content2 | customMarkup"></span>
            </div>

            <div *ngIf="loading" class="loading-container">
                <div *ngIf="loading" class="loading-animation"></div>
            </div>

        </div>
    </div>

    <div class="chat-input">
        <textarea class="chat-textarea" rows="3" [(ngModel)]="newMessage" (input)="userInteracted = true"
            [placeholder]="userInteracted ? '':'enter your query here. example I would like to make an appointment for sore throat. could you help me with making an appointment?'"
            (keyup.enter)="sendMessage(newMessage)"></textarea>
        <button class="send-button" (click)="sendMessage(newMessage)">Send</button>
    </div>


    <div style="text-align: center;" *ngIf="queryId" class="query-id">{{queryId}}</div>
    <div class="footer">
        Copyright Â© Garvik
    </div>




</div>